<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TodoList</title>
    <style>
      :root {
        --light-bg: #eeeeee;
        --card: #ffffff;
        --primary: #8787ff;
        --text-color-light: #ffffff;
        --text-color-dark: #030303;
        --font: sans-serif;
      }
      body {
        background-color: var(--light-bg);
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        display: grid;
      }
      body > div {
        margin: auto;
        border: #d1d5db;
        background-color: var(--card);
        color: var(--text-color-dark);
        font-family: var(--font);
        margin-top: 5rem;
        border-radius: 0.5rem;
        padding: 2rem;
        width: 450px;
      }
      input {
        background-color: #f1f1f1;
        border: 1px solid #cbd5e1;
        border-radius: 4px;
      }
      h1 {
        color: #1f2937;
      }
      .todo,
      .add {
        padding: 10px 15px;
      }
      .todo {
        width: 270px;
      }
      .add {
        background-color: #2563eb;
        color: #ffffff;
        border: none;
        cursor: pointer;
        border-radius: 4px;
      }
      .add:hover {
        background-color: #1e40af;
      }
      .htmlbox {
        border: 1px solid #bebebe;
        padding: 0 1rem;
        height: 300px;
        overflow-y: scroll;
      }
      .todo-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 8px;
        border-bottom: 1px solid #e5e7eb;
        margin-bottom: 4px;
      }
      .todo-content {
        display: flex;
        flex-direction: column;
        flex: 1;
        margin-right: 10px;
      }
      .todo-text {
        font-weight: 500;
        margin-bottom: 4px;
      }
      .todo-completed {
        text-decoration: line-through;
        color: #6b7280;
      }
      .todo-meta {
        font-size: 12px;
        color: #6b7280;
      }
      .todo-buttons {
        display: flex;
        gap: 5px;
      }
      .delete-btn {
        background-color: #dc2626;
        color: white;
        border: none;
        padding: 6px 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
      }
      .delete-btn:hover {
        background-color: #b91c1c;
      }
      .complete-btn {
        background-color: #059669;
        color: white;
        border: none;
        padding: 6px 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
      }
      .complete-btn:hover {
        background-color: #047857;
      }
      .complete-btn.completed {
        background-color: #6b7280;
      }
      .priority-high {
        border-left: 4px solid #dc2626;
      }
      .priority-medium {
        border-left: 4px solid #f59e0b;
      }
      .priority-low {
        border-left: 4px solid #10b981;
      }
      .priority-select {
        padding: 8px;
        margin-left: 10px;
        border: 1px solid #cbd5e1;
        border-radius: 4px;
      }
    </style>
  </head>
  <body>
    <div>
      <h1>TodoList with Objects</h1>
      <input
        type="text"
        id="todo"
        class="todo"
        placeholder="type your todo here."
      />
      <select class="priority-select" id="priority">
        <option value="low">Low Priority</option>
        <option value="medium" selected>Medium Priority</option>
        <option value="high">High Priority</option>
      </select>
      <button class="add" onclick="add();">Add Todo</button><br /><br />
      <div class="htmlbox"></div>
    </div>

    <script>
      let list = [
        {
          id: 1,
          text: "Learn JavaScript",
          completed: false,
          priority: "high",
          dateAdded: "2024-01-15"
        },
        {
          id: 2,
          text: "Build a todo app",
          completed: false,
          priority: "medium",
          dateAdded: "2024-01-16"
        },
        {
          id: 3,
          text: "Practice coding",
          completed: true,
          priority: "low",
          dateAdded: "2024-01-14"
        }
      ];

      let nextId = 4; 

      function display() {
        let HTMLElement = "";

        if (list.length === 0) {
          HTMLElement = "<p>No todos yet. Add one above!</p>";
        } else {
          list.forEach(function (todoObj, index) {
            let element = `
              <div class="todo-item priority-${todoObj.priority}">
                <div class="todo-content">
                  <div class="todo-text ${todoObj.completed ? 'todo-completed' : ''}">
                    ${todoObj.text}
                  </div>
                  <div class="todo-meta">
                    Priority: ${todoObj.priority.toUpperCase()} | 
                    Added: ${todoObj.dateAdded} | 
                    ID: ${todoObj.id}
                  </div>
                </div>
                <div class="todo-buttons">
                  <button class="complete-btn ${todoObj.completed ? 'completed' : ''}" 
                          onclick="toggleComplete(${index})">
                    ${todoObj.completed ? 'Undo' : 'Done'}
                  </button>
                  <button class="delete-btn" onclick="deleteItem(${index})">Delete</button>
                </div>
              </div>
            `;
            HTMLElement += element;
          });
        }
        
        document.querySelector(".htmlbox").innerHTML = HTMLElement;
      }

      function add() {
        let inputElement = document.querySelector(".todo");
        let priorityElement = document.querySelector("#priority");
        let inputvalue = inputElement.value.trim();
        
        if (inputvalue !== "") {
          let newTodo = {
            id: nextId++,
            text: inputvalue,
            completed: false,
            priority: priorityElement.value,
            dateAdded: new Date().toISOString().split('T')[0] // Today's date
          };
          
          list.push(newTodo);
          inputElement.value = "";
          display();
        } else {
          alert("Please enter a todo item!");
        }
      }

      function deleteItem(index) {
        list.splice(index, 1);
        display();
      }

      function toggleComplete(index) {
        list[index].completed = !list[index].completed;
        display();
      }

      document.querySelector(".todo").addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
          add();
        }
      });

      display();
    </script>
  </body>
</html>